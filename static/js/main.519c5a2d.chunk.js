(this["webpackJsonpgenshin-impact-character-builder"]=this["webpackJsonpgenshin-impact-character-builder"]||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(4),i=a.n(n),r=a(8),c=a.n(r),l=(a(14),a(2)),o=a(3),h=a(1),d=a(6),u=a(5),v={NONE:"none",ATK:"atk",ATKPER:"atk %",ARTIFACTATK:"atk (artifact)",CRITD:"critd",CRITC:"critc",PHYS:"phys",PYRO:"pyro",CRYO:"cryo",GEO:"geo",ANEMO:"anemo",ELECTRO:"electro",HYDRO:"hydro",HP:"hp",HPPER:"hp%",DEF:"def",DEFPER:"def%",MASTERY:"ele mastery",RECHARGE:"recharge",HEAL:"heal bonus"},p=function(){function t(){Object(l.a)(this,t),this.statMap=new Map,this.character=new Map,this.weapon=new Map,this.hat=new Map,this.goblet=new Map,this.clock=new Map,this.flower=new Map,this.feather=new Map,this.setBonuses=new Map,this.talentLevel=[1,1,1]}return Object(o.a)(t,[{key:"getTotalAtk",value:function(){return Math.floor(this.getStat(v.ATK)*(this.getStat(v.ATKPER)/100+1)+this.getStat(v.ARTIFACTATK))}},{key:"getStat",value:function(t){return t in this.statMap&&parseFloat(this.statMap[t])||0}},{key:"updateItem",value:function(t,e){this.hasOwnProperty(t)&&(this.removeItemFromStatMap(this[t]),this[t]=e,this.addItemToStatMap(this[t]))}},{key:"removeItemFromStatMap",value:function(t){for(var e in t){var a=t[e];e in this.statMap&&(this.statMap[e]-=parseFloat(a)||0)}}},{key:"addItemToStatMap",value:function(t){for(var e in t){var a=t[e];e in this.statMap?this.statMap[e]+=parseFloat(a)||0:this.statMap[e]=parseFloat(a)||0}}}]),t}(),b={name:"Fischl",atk:{L1:21,L20:53,L20a:68,L40:102,L40a:113,L50:139,L50a:144,L60:161,L60a:172,L70:189,L70a:200,L80:216,L80a:227},hp:{L1:770,L20:1979,L20a:2555,L40:3827,L40a:4236,L50:4872,L50a:5418,L60:6054,L60a:6463,L70:7099,L70a:7508,L80:8144,L80a:8553},def:{L1:50,L20:128,L20a:165,L40:247,L40a:274,L50:315,L50a:350,L60:391,L60a:418,L70:459,L70a:485,L80:526,L80a:553},bonus:{name:v.ATKPER,L40a:6,L50a:12,L60a:12,L70a:18,L80a:24},talents:[{name:"Bolts of Downfall",effects:[{name:"1-Hit DMG%",type:v.PHYS,value:[44.1]},{name:"2-Hit DMG%",type:v.PHYS,value:[46.8]},{name:"3-Hit DMG%",type:v.PHYS,value:[58.1]},{name:"4-Hit DMG%",type:v.PHYS,value:[57.7]},{name:"5-Hit DMG%",type:v.PHYS,value:[72.1]},{name:"Aimed Shot DMG%",type:v.PHYS,value:[43.9]},{name:"Fully-Charged Aimed Shot DMG%",type:v.PHYS,value:[124]},{name:"Plunge DMG%",type:v.PHYS,value:[56.8]},{name:"Low Plunge DMG%",type:v.PHYS,value:[114]},{name:"High Plunge DMG%",type:v.PHYS,value:[142]}]},{name:"Nightrider",effects:[{name:"Oz ATK DMG%",type:v.ELECTRO,value:[88.8]},{name:"Summoning DMG%",type:v.ELECTRO,value:[115]}]},{name:"Midnight Phantasmagoria",effects:[{name:"Falling Thunder DMG%",type:v.ELECTRO,value:[208]}]}]},j=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;Object(l.a)(this,a);var n=(s=e.call(this,t)).decodeState(s.props.decodedData);return s.state={level:n.level,talentLevel:n.talentLevel,acended:n.acended,constellation:n.constellation,characterStats:s.props.characterStats},s.levelChange=s.levelChange.bind(Object(h.a)(s)),s.ascendedChange=s.ascendedChange.bind(Object(h.a)(s)),s.talentLevelChange=s.talentLevelChange.bind(Object(h.a)(s)),s.encodeState=s.encodeState.bind(Object(h.a)(s)),s.decodeState=s.decodeState.bind(Object(h.a)(s)),s.constellationLevelChange=s.constellationLevelChange.bind(Object(h.a)(s)),s.props.encodeList.push(s.encodeState),s}return Object(o.a)(a,[{key:"encodeState",value:function(){return[this.state.level,this.state.constellation<<1|this.state.acended,this.state.talentLevel[0]<<4|this.state.talentLevel[1],this.state.talentLevel[2]]}},{key:"decodeState",value:function(t){if(t.length<4)return this.props.updateStats(this.props.statItemId,this.getStatsFromLevelAndAscention(1,!1)),{level:1,talentLevel:[1,1,1],acended:!1,constellation:0};var e={level:t[0],constellation:t[1]>>1,acended:1===(1&t[1]),talentLevel:[t[2]>>4,15&t[2],t[3]]};return t.splice(0,4),this.props.talentLevelChange(0,e.talentLevel[0]),this.props.talentLevelChange(1,e.talentLevel[1]),this.props.talentLevelChange(2,e.talentLevel[2]),this.props.updateStats(this.props.statItemId,this.getStatsFromLevelAndAscention(e.level,e.acended)),e}},{key:"levelChange",value:function(t){var e=parseInt(t.target.value)||"";e>=100&&(e=Math.floor(e/10)),e>90?e=90:e<0&&(e=1),this.setState({level:e}),this.props.updateStats(this.props.statItemId,this.getStatsFromLevelAndAscention(e,this.state.acended))}},{key:"ascendedChange",value:function(t){this.setState({acended:t.target.checked}),this.props.updateStats(this.props.statItemId,this.getStatsFromLevelAndAscention(this.state.level,t.target.checked))}},{key:"getStatsFromLevelAndAscention",value:function(t,e){var a=new Map,s=0,n=0,i=0;1===t?(s=b.atk.L1,n=b.def.L1,i=b.hp.L1):t<20?(s=this.getAtkBetweenLevels(b.atk.L1,b.atk.L20,t,1,20),n=this.getAtkBetweenLevels(b.def.L1,b.def.L20,t,1,20),i=this.getAtkBetweenLevels(b.hp.L1,b.hp.L20,t,1,20)):20===t?e?(s=b.atk.L20a,n=b.def.L20a,i=b.hp.L20a):(s=b.atk.L20,n=b.def.L20,i=b.hp.L20):t<40?(s=this.getAtkBetweenLevels(b.atk.L20a,b.atk.L40,t,20,40),n=this.getAtkBetweenLevels(b.def.L20a,b.def.L40,t,20,40),i=this.getAtkBetweenLevels(b.hp.L20a,b.hp.L40,t,20,40)):40===t?e?(s=b.atk.L40a,n=b.def.L40a,i=b.hp.L40a):(s=b.atk.L40,n=b.def.L40,i=b.hp.L40):t<50?(s=this.getAtkBetweenLevels(b.atk.L40a,b.atk.L50,t,40,50),n=this.getAtkBetweenLevels(b.def.L40a,b.def.L50,t,40,50),i=this.getAtkBetweenLevels(b.hp.L40a,b.hp.L50,t,40,50)):50===t?e?(s=b.atk.L50a,n=b.def.L50a,i=b.hp.L50a):(s=b.atk.L50,n=b.def.L50,i=b.hp.L50):t<60?(s=this.getAtkBetweenLevels(b.atk.L50a,b.atk.L60,t,50,60),n=this.getAtkBetweenLevels(b.def.L50a,b.def.L60,t,50,60),i=this.getAtkBetweenLevels(b.hp.L50a,b.hp.L60,t,50,60)):60===t?e?(s=b.atk.L60a,n=b.def.L60a,i=b.hp.L60a):(s=b.atk.L60,n=b.def.L60,i=b.hp.L60):t<70?(s=this.getAtkBetweenLevels(b.atk.L60a,b.atk.L70,t,60,70),n=this.getAtkBetweenLevels(b.def.L60a,b.def.L70,t,60,70),i=this.getAtkBetweenLevels(b.hp.L60a,b.hp.L70,t,60,70)):70===t?e?(s=b.atk.L70a,n=b.def.L70a,i=b.hp.L70a):(s=b.atk.L70,n=b.def.L70,i=b.hp.L70):t<80?(s=this.getAtkBetweenLevels(b.atk.L70a,b.atk.L80,t,70,80),n=this.getAtkBetweenLevels(b.def.L70a,b.def.L80,t,70,80),i=this.getAtkBetweenLevels(b.hp.L70a,b.hp.L80,t,70,80)):80===t&&(e?(s=b.atk.L80a,n=b.def.L80a,i=b.hp.L80a):(s=b.atk.L80,n=b.def.L80,i=b.hp.L80));var r=0;return t>80||80===t&&this.state.ascended?r=b.bonus.L80a:t>70||70===t&&this.state.ascended?r=b.bonus.L70a:t>50||50===t&&this.state.ascended?r=b.bonus.L50a:(t>40||40===t&&this.state.ascended)&&(r=b.bonus.L40a),a[b.bonus.name]=r,a[v.ATK]=s,a[v.DEF]=n,a[v.HP]=i,a[v.CRITC]=5,a[v.CRITD]=50,a}},{key:"getAtkBetweenLevels",value:function(t,e,a,s,n){return Math.floor(t+(e-t)/(n-s)*(a-s))}},{key:"ascentionCheckbox",value:function(){var t=this.state.level;if(20===t||40===t||50===t||60===t||70===t||80===t)return Object(s.jsxs)("div",{children:["Is Ascended: ",Object(s.jsx)("input",{type:"checkbox",onChange:this.ascendedChange,checked:this.state.acended})]})}},{key:"talentLevelChange",value:function(t){var e=parseInt(t.target.value)||"",a=t.target.attributes.number.value;e<0?e=1:e>15&&(e=15);var s=this.state.talentLevel;s[a]=e,this.props.talentLevelChange(a,e),this.setState({talentLevel:s})}},{key:"constellationLevelChange",value:function(t){var e=parseInt(t.target.value)||"";e<0?e=0:e>6&&(e=6),this.setState({constellation:e})}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"CharacterInfo",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle2",children:b.name})}),Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:"Level"})," ",Object(s.jsx)("input",{type:"text",min:"1",max:"90",step:"1",className:"EntryBox",value:this.state.level,onChange:this.levelChange})]}),this.ascentionCheckbox(),Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:"Constellation"}),Object(s.jsx)("input",{type:"text",min:"0",max:"6",step:"1",className:"EntryBox",value:this.state.constellation,onChange:this.constellationLevelChange})]}),Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:b.talents[0].name}),Object(s.jsx)("input",{type:"text",min:"1",max:"15",step:"1",className:"EntryBox",value:this.state.talentLevel[0],onChange:this.talentLevelChange,number:0})]}),Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:b.talents[1].name}),Object(s.jsx)("input",{type:"text",min:"1",max:"15",step:"1",className:"EntryBox",value:this.state.talentLevel[1],onChange:this.talentLevelChange,number:1})]}),Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:b.talents[2].name}),Object(s.jsx)("input",{type:"text",min:"1",max:"15",step:"1",className:"EntryBox",value:this.state.talentLevel[2],onChange:this.talentLevelChange,number:2})]})]})})}}]),a}(i.a.Component);function L(t){return t.match(/^[0-9]*\.?[0-9]*$/)}var m=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={value:s.props.value},s.valueChanged=s.valueChanged.bind(Object(h.a)(s)),s}return Object(o.a)(a,[{key:"valueChanged",value:function(t){var e;e=L(t.target.value)?t.target.value:parseFloat(t.target.value)||"",this.setState({value:e}),this.props.valueChanged(e)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("div",{className:"NumberLabel",children:this.props.stat}),Object(s.jsx)("input",{type:"text",className:"EntryBox",value:this.state.value,onChange:this.valueChanged})]})}}]),a}(i.a.Component),O=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={value:s.props.value||0,stat:s.props.stat||0},s.valueChanged=s.valueChanged.bind(Object(h.a)(s)),s.statChanged=s.statChanged.bind(Object(h.a)(s)),s}return Object(o.a)(a,[{key:"valueChanged",value:function(t){var e;e=L(t.target.value)?t.target.value:parseFloat(t.target.value)||"",this.setState({value:e}),this.props.valueChanged(this.props.id,e)}},{key:"statChanged",value:function(t){var e=parseInt(t.target.value)||0;this.setState({stat:e}),this.props.statChanged(this.props.id,e)}},{key:"mapOptions",value:function(t){var e=0;return t.map((function(t){return Object(s.jsx)("option",{value:e++,children:t},t)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"Stat",children:[Object(s.jsx)("select",{name:"StatType",className:"NumberLabel",value:this.state.stat,onChange:this.statChanged,children:this.mapOptions(this.props.statList)}),Object(s.jsx)("input",{type:"text",className:"EntryBox",value:this.state.value,onChange:this.valueChanged})]})}}]),a}(i.a.Component),g=function(){function t(){Object(l.a)(this,t)}return Object(o.a)(t,[{key:"addItem",value:function(t,e){t in this.idMap?this.data[this.idMap[t]]=e:(this.idMap[t]=this.data.length,this.data.push(e))}},{key:"encode",value:function(t){for(var e="",a=t.length,s=0;s<a;s++){var n=t[s];n<0?(console.log("Error: value < 0 cannot add to url"),n=0):n>255&&(console.log("Error: value > 255 cannot add to url"),n=255),e+=String.fromCharCode(n)}return window.btoa(e)}},{key:"decode",value:function(t){var e=[];try{e=window.atob(t)}catch(i){console.log("Error: Invalid Build String")}for(var a=e.length,s=[],n=0;n<a;++n)s.push(e.charCodeAt(n));return s}}],[{key:"encodeFloat",value:function(t){console.log(t);var e=Math.floor(10*t);return console.log(e),[(65280&e)>>8,255&e]}},{key:"decodeFloat",value:function(t,e){return(0|parseInt(t<<8|e))/10}},{key:"encodeInt",value:function(t){return[(65280&t)>>8,255&t]}},{key:"decodeInt",value:function(t,e){return t<<8|e|0}}]),t}(),f=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;Object(l.a)(this,a);var n=(s=e.call(this,t)).decodeState(s.props.decodedData);return s.state={atk:n.atk,secondaryValue:n.secondaryValue,secondaryStat:n.secondaryStat,statList:[v.NONE,v.ATKPER,v.HPPER,v.CRITD,v.CRITC,v.RECHARGE,v.MASTERY]},s.atkValueChanged=s.atkValueChanged.bind(Object(h.a)(s)),s.secondaryValueChanged=s.secondaryValueChanged.bind(Object(h.a)(s)),s.secondaryStatChanged=s.secondaryStatChanged.bind(Object(h.a)(s)),s.encodeState=s.encodeState.bind(Object(h.a)(s)),s.props.encodeList.push(s.encodeState),s}return Object(o.a)(a,[{key:"encodeState",value:function(){var t=g.encodeInt(this.state.atk);return t.push(this.state.secondaryStat),t=t.concat(g.encodeFloat(this.state.secondaryValue))}},{key:"decodeState",value:function(t){if(t.length<4)return{atk:0,secondaryValue:0,secondaryStat:0};var e={atk:g.decodeInt(t[0],t[1]),secondaryStat:t[2],secondaryValue:g.decodeFloat(t[3],t[4])};return t.splice(0,5),this.props.updateStats(this.props.statItemId,this.generateStatMap(e.atk,this.state.statList[e.secondaryStat],e.secondaryValue)),e}},{key:"atkValueChanged",value:function(t){this.setState({atk:t}),this.props.updateStats(this.props.statItemId,this.generateStatMap(t,this.state.statList[this.state.secondaryStat],this.state.secondaryValue))}},{key:"secondaryValueChanged",value:function(t,e){this.setState({secondaryValue:e}),this.props.updateStats(this.props.statItemId,this.generateStatMap(this.state.atk,this.state.statList[this.state.secondaryStat],e))}},{key:"secondaryStatChanged",value:function(t,e){this.setState({secondaryStat:e}),this.props.updateStats(this.props.statItemId,this.generateStatMap(this.state.atk,this.state.statList[e],this.state.secondaryValue))}},{key:"generateStatMap",value:function(t,e,a){var s=new Map;return s[v.ATK]=parseFloat(t)||0,e===v.ATK?s[v.ATK]+=parseFloat(a)||0:s[e]=parseFloat(a)||0,s}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"WeaponInfo",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle2",children:"Weapon"})}),Object(s.jsx)(m,{stat:v.ATK,value:this.state.atk,valueChanged:this.atkValueChanged}),Object(s.jsx)(O,{id:0,statList:this.state.statList,stat:this.state.secondaryStat,value:this.state.secondaryValue,valueChanged:this.secondaryValueChanged,statChanged:this.secondaryStatChanged})]})}}]),a}(i.a.Component),C=[{name:"Flower of Life",id:"flower",mainStat:[v.HP]},{name:"Plume of Death",id:"feather",mainStat:[v.ARTIFACTATK]},{name:"Sands of Eon",id:"clock",mainStat:[v.HPPER,v.DEFPER,v.ATKPER,v.MASTERY,v.RECHARGE]},{name:"Goblet of Eonothem",id:"goblet",mainStat:[v.HPPER,v.DEFPER,v.ATKPER,v.MASTERY,v.HYDRO,v.PYRO,v.CRYO,v.GEO,v.ELECTRO,v.ANEMO,v.PHYS]},{name:"Circlet of Logos",id:"hat",mainStat:[v.HPPER,v.DEFPER,v.ATKPER,v.MASTERY,v.CRITC,v.CRITD,v.HEAL]}],S=[{name:"None",bonus2:[],bonus4:[]},{name:"Adventurer",bonus2:[{stat:v.HP,value:1e3}],bonus4:[]},{name:"Lucky Dog",bonus2:[{stat:v.DEF,value:1e3}],bonus4:[]},{name:"Traveling Doctor",bonus2:[],bonus4:[]},{name:"Instructor",bonus2:[{stat:v.MASTERY,value:80}],bonus4:[]},{name:"Berserker",bonus2:[{stat:v.CRITC,value:12}],bonus4:[]},{name:"The Exile",bonus2:[{stat:v.RECHARGE,value:20}],bonus4:[]},{name:"Resolution of Sojourner",bonus2:[{stat:v.ATKPER,value:18}],bonus4:[]},{name:"Martial Artist",bonus2:[],bonus4:[]},{name:"Defender's Will",bonus2:[{stat:v.DEFPER,value:18}],bonus4:[]},{name:"Tiny Miracle",bonus2:[],bonus4:[]},{name:"Brave Heart",bonus2:[{stat:v.ATKPER,value:18}],bonus4:[]},{name:"Gambler",bonus2:[],bonus4:[]},{name:"Scolar",bonus2:[{stat:v.RECHARGE,value:20}],bonus4:[]},{name:"Gladiator's Finale",bonus2:[{stat:v.ATKPER,value:18}],bonus4:[]},{name:"Maiden Beloved",bonus2:[{stat:v.HEAL,value:15}],bonus4:[]},{name:"Noblesse Oblige",bonus2:[],bonus4:[]},{name:"Bloodstained Chivalry",bonus2:[{stat:v.PHYS,value:25}],bonus4:[]},{name:"Wanderer's Troupe",bonus2:[{stat:v.MASTERY,value:80}],bonus4:[]},{name:"Viridescent Venerer",bonus2:[{stat:v.ANEMO,value:15}],bonus4:[]},{name:"Thundering Fury",bonus2:[{stat:v.ELECTRO,value:15}],bonus4:[]},{name:"Thundersoother",bonus2:[{stat:v.ELECTRO,value:15}],bonus4:[]},{name:"Crimson Witch of Flames",bonus2:[{stat:v.PYRO,value:15}],bonus4:[]},{name:"Lavawalker",bonus2:[{stat:v.PYRO,value:15}],bonus4:[]},{name:"Archaic Petra",bonus2:[{stat:v.GEO,value:15}],bonus4:[]},{name:"Retracing Bolide",bonus2:[{stat:v.GEO,value:15}],bonus4:[]}],y=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;Object(l.a)(this,a);var n=(s=e.call(this,t)).decodeState(s.props.decodedData);return s.state={set:n.set,stats:n.stats,subStatList:[v.NONE,v.HP,v.ARTIFACTATK,v.DEF,v.HPPER,v.ATKPER,v.DEFPER,v.MASTERY,v.RECHARGE,v.CRITC,v.CRITD,v.HEAL]},s.valueChanged=s.valueChanged.bind(Object(h.a)(s)),s.statChanged=s.statChanged.bind(Object(h.a)(s)),s.setChange=s.setChange.bind(Object(h.a)(s)),s.encodeState=s.encodeState.bind(Object(h.a)(s)),s.props.encodeList.push(s.encodeState),s}return Object(o.a)(a,[{key:"encodeState",value:function(){var t=this.state.stats;console.log(t);for(var e=[this.state.set,t[0].stat<<4|t[1].stat,t[2].stat<<4|t[3].stat,t[4].stat],a=0;a<5;++a)e=e.concat(g.encodeFloat(this.state.stats[a].value));return e}},{key:"decodeState",value:function(t){var e=[{stat:0},{stat:0},{stat:0},{stat:0},{stat:0}];if(t.length<14)return{set:0,stats:e};var a=t[0];e[0].stat=t[1]>>4,e[1].stat=15&t[1],e[2].stat=t[2]>>4,e[3].stat=15&t[2],e[4].stat=t[3];for(var s=0;s<5;++s)e[s].value=g.decodeFloat(t[4+2*s],t[5+2*s]);return t.splice(0,14),this.props.updateParent(e),{set:a,stats:e}}},{key:"valueChanged",value:function(t,e){var a=this.state.stats;a[t].value=e,this.setState({stats:a}),this.updateParent(a)}},{key:"statChanged",value:function(t,e){var a=this.state.stats;a[t].stat=e,this.setState({stats:a}),this.updateParent(a)}},{key:"updateParent",value:function(t){for(var e=new Map,a=0;a<t.length;++a){var s=t[a],n=void 0;n=0===a?this.props.slot.mainStat[s.stat]:this.state.subStatList[s.stat],s.hasOwnProperty("stat")&&s.hasOwnProperty("value")&&(n in e?e[n]+=0|parseFloat(s.value):e[n]=0|parseFloat(s.value))}this.props.updateStats(this.props.slot.id,e)}},{key:"setChange",value:function(t){var e=t.target.value;this.props.setChange(this.state.set,e),this.setState({set:e})}},{key:"mapSets",value:function(){var t=0;return S.map((function(e){return Object(s.jsx)("option",{value:t++,children:e.name},e.name)}))}},{key:"getSetBonuses",value:function(t,e){for(var a=[],n=1;n<=e;++n)if(t.hasOwnProperty("bonus"+n)){var i=t["bonus"+n];a.push(Object(s.jsx)("div",{children:i.map((function(t){return Object(s.jsxs)("div",{children:[t.stat," : ",t.value]},t.stat)}))},n))}return a}},{key:"render",value:function(){var t=this.props.setCount[this.state.set]||0;return Object(s.jsxs)("div",{className:"Artifact",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle2",children:this.props.slot.name})}),Object(s.jsx)("div",{className:"SetPicker",children:Object(s.jsxs)("div",{children:["Set:",Object(s.jsx)("select",{name:"SetPicker",value:this.state.set,onChange:this.setChange,children:this.mapSets()})]})}),Object(s.jsx)(O,{id:0,statList:this.props.slot.mainStat,stat:this.state.stats[0].stat,value:this.state.stats[0].value,valueChanged:this.valueChanged,statChanged:this.statChanged}),Object(s.jsx)(O,{id:1,statList:this.state.subStatList,stat:this.state.stats[1].stat,value:this.state.stats[1].value,valueChanged:this.valueChanged,statChanged:this.statChanged}),Object(s.jsx)(O,{id:2,statList:this.state.subStatList,stat:this.state.stats[2].stat,value:this.state.stats[2].value,valueChanged:this.valueChanged,statChanged:this.statChanged}),Object(s.jsx)(O,{id:3,statList:this.state.subStatList,stat:this.state.stats[3].stat,value:this.state.stats[3].value,valueChanged:this.valueChanged,statChanged:this.statChanged}),Object(s.jsx)(O,{id:4,statList:this.state.subStatList,stat:this.state.stats[4].stat,value:this.state.stats[4].value,valueChanged:this.valueChanged,statChanged:this.statChanged}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["Pieces In Set: ",t]}),Object(s.jsx)("p",{children:"Active Effects:"}),Object(s.jsx)("div",{children:this.getSetBonuses(S[this.state.set],t)})]})]})}}]),a}(i.a.Component),x=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={sets:new Map},s.setChange=s.setChange.bind(Object(h.a)(s)),s}return Object(o.a)(a,[{key:"setChange",value:function(t,e){var a=this.state.sets;t in a&&(a[t]-=1),e in a?a[e]+=1:a[e]=1,this.setState({sets:a});var s=new Map;for(var n in a)for(var i=S[n],r=1;r<=a[n];++r)if(i.hasOwnProperty("bonus"+r))for(var c=i["bonus"+r],l=0;l<c.length;l++)s[c[l].stat]=c[l].value;this.props.updateStats("setBonuses",s)}},{key:"render",value:function(){var t=this;return Object(s.jsx)("div",{className:"PrimarySection",children:C.map((function(e){return Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsx)(y,{decodedData:t.props.decodedData,slot:e,updateStats:t.props.updateStats,setCount:t.state.sets,setChange:t.setChange,encodeList:t.props.encodeList})},e.name)}))})}}]),a}(i.a.Component),k=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this.props.characterStats;return Object(s.jsx)("div",{className:"AggrigatedStats",children:Object(s.jsx)("ul",{children:Object.keys(v).map((function(e){var a=v[e];return 0!==t.getStat(a)?Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"StatWrapper",children:[Object(s.jsx)("p",{className:"StatName",children:a}),Object(s.jsx)("p",{className:"StatValue",children:t.getStat(a)})]})},a):""}))})})}}]),a}(i.a.Component),E=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this.props.characterStats,e=Math.floor(parseFloat(t.getTotalAtk())/100*parseFloat(this.props.value))*(1+(parseFloat(t.getStat(this.props.type))||0)/100),a=Math.floor(e+e*(parseFloat(t.getStat(v.CRITD))||0)/100),n=Math.floor(e*(1-(parseFloat(t.getStat(v.CRITC))||0)/100)+a*(parseFloat(t.getStat(v.CRITC))||0)/100);return Object(s.jsxs)("div",{className:"TalentEffect",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle2",children:this.props.name})}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["multiplyer: ",this.props.value,"%"]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["damage: ",e]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["crit damage: ",a]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["averaged damage: ",n]})})]})}}]),a}(i.a.Component),A=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle",children:this.props.talent.name})}),Object(s.jsx)("div",{className:"PrimarySection",children:this.props.talent.effects.map((function(e){return Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsx)(E,{name:e.name,type:e.type,value:e.value[t.props.talentLevel],characterStats:t.props.characterStats})},e.name)}))})]})}}]),a}(i.a.Component),R=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this,e=0;return Object(s.jsxs)("div",{className:"TalentInfo",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"subtitle",children:"Talents"})}),b.talents.map((function(a){return Object(s.jsx)("div",{children:Object(s.jsx)(A,{talent:a,characterStats:t.props.characterStats,talentLevel:t.props.characterStats.talentLevel[e++]-1})},a.name)}))]})}}]),a}(i.a.Component),N=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;Object(l.a)(this,a),(s=e.call(this,t)).updateCharacterStats=function(t,e){var a=s.state.characterStats;a.updateItem(t,e),s.setState({characterStats:a})};var n=window.location.search;return n=n.substring(n.indexOf("?")+1,n.length),s.state={characterStats:new p,buildUrl:"",encodeList:[],decodedData:(new g).decode(n)},console.log(s.state.decodedData),s.talentLevelChange=s.talentLevelChange.bind(Object(h.a)(s)),s.generateUrl=s.generateUrl.bind(Object(h.a)(s)),s}return Object(o.a)(a,[{key:"generateUrl",value:function(){for(var t=[],e=this.state.encodeList.length,a=0;a<e;++a)t=t.concat(this.state.encodeList[a]());console.log(t),this.setState({buildUrl:"https://daynar100.github.io/GenshinImpactCharacterBuilder/?"+(new g).encode(t)})}},{key:"talentLevelChange",value:function(t,e){var a=this.state.characterStats;a.talentLevel[t]=e,this.setState({characterStats:a})}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:"Loadout",children:[Object(s.jsx)(T,{}),Object(s.jsxs)("div",{className:"Loadout-body",children:[Object(s.jsx)("div",{className:"PrimarySection",children:Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsxs)("div",{className:"UrlGenerator",children:[Object(s.jsx)("button",{type:"button",onClick:this.generateUrl,children:"Generate URL"}),document.queryCommandSupported("copy")&&Object(s.jsx)("button",{type:"button",onClick:function(e){var a=document.createElement("textarea");a.value=t.state.buildUrl,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},children:"Copy"}),Object(s.jsx)("p",{className:"GeneratedUrl",children:this.state.buildUrl})]})})}),Object(s.jsx)("div",{className:"subtitle",children:"Character Info"}),Object(s.jsxs)("div",{className:"PrimarySection",children:[Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsx)(j,{statItemId:"character",decodedData:this.state.decodedData,updateStats:this.updateCharacterStats,talentLevelChange:this.talentLevelChange,encodeList:this.state.encodeList})}),Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsx)(f,{statItemId:"weapon",decodedData:this.state.decodedData,updateStats:this.updateCharacterStats,encodeList:this.state.encodeList})})]}),Object(s.jsx)("div",{className:"subtitle",children:"Artifacts"}),Object(s.jsx)(x,{decodedData:this.state.decodedData,updateStats:this.updateCharacterStats,encodeList:this.state.encodeList}),Object(s.jsx)("div",{className:"subtitle2",children:Object(s.jsx)("p",{children:"The following sections are works in progress. Don't trust them."})}),Object(s.jsx)("div",{className:"subtitle",children:"Stats"}),Object(s.jsx)("div",{className:"PrimarySection",children:Object(s.jsx)("div",{className:"BoxInfo",children:Object(s.jsx)(k,{characterStats:this.state.characterStats})})}),Object(s.jsx)(R,{characterStats:this.state.characterStats})]}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"This site is not affiliated with or endorsed by miHoYo."})})]})}}]),a}(i.a.Component),T=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"BuildInfo",children:Object(s.jsx)("p",{className:"title",children:"Genshin Impact Character Builder"})})}}]),a}(i.a.Component);c.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.519c5a2d.chunk.js.map